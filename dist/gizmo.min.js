define("gizmo",["require","./lib/deferred","./lib/microevent","./lib/lodash.underscore","./lib/whenlive","./lib/utils","./lib/extend"],function(e){var t=e("./lib/deferred"),n=e("./lib/microevent"),r=e("./lib/lodash.underscore"),i=e("./lib/whenlive"),s=e("./lib/utils"),o=e("./lib/extend"),u=[],a=!1,f,l=function(){if(a)return;a=!0,r.each(u,function(e,t){e._inDocument()||(u.splice(t,1),e.trigger("destroy"),e._destroy())}),a=!1};f=setInterval(l,1e3),n.mixin(o.prototype);var c=o.extend({initialize:function(e,n){var s=this;s.options=n||{},s.defaults=s.defaults||{},r.defaults(s.options,s.defaults),e.indexOf("#")===0&&(e=e.substring(1)),s.container=document.getElementById(e);if(r.isNull(s.container))throw"Container does not exist: "+e;var o=s._loadTemplate();t.when(o).done(function(e){s.init.call(s),i(s.el,{visibility:!0},function(){s.trigger("ready")})}),u.push(this)},_destroyed:!1,_loadTemplate:function(){var e=this;if(!r.isFunction(this.template)&&!r.isString(this.template)&&!r.isFunction(this.templateUrl)&&!r.isString(this.templateUrl))return!1;var n=new t,i=function(t){r.isFunction(t)&&(t=t()),e.el=e._createElement(t),e.container.appendChild(e.el),n.resolve();return};return i(this.template),n.promise()},_createElement:function(e){var t=document.createElement("body");return t.innerHTML=e,t.firstChild},_destroy:function(){this._destroyed=!0},_inDocument:function(){return document.documentElement.contains(this.el)?!0:!1},init:function(){}});return c}),define("src/main",function(){});